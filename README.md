This project shows a method to implement cooperative multitasking on stm32F3.
cooperative.c and cooperative_exe.c contains code to implement multitasking.